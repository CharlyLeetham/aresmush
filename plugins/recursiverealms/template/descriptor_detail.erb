<%= line_with_text t('RecursiveRealms.descriptor_title', :descriptor => self.descriptordetailtitle) %>
<%= "%xhDescription:%xn #{descriptor['Flavor Text']}" %>

<% if descriptor['Abilities'] %>
  <%= left("%xhAbilities:%xn", 100) %>
  <% descriptor['Abilities'].each do |ability| -%>
    <% if ability.is_a?(Hash) -%>
      <% ability.each do |ability_key, ability_val| -%>
        <%= left("%xh#{ability_key}:%xn", 20) -%>
        <% if ability_val.is_a?(Hash) -%>
          <% ability_val.each do |sub_key, sub_val| %>
            <%= "%xh#{sub_key}:%xn #{sub_val}" %>
          <% end %>
        <% else %>
          <%= ability_val %>
        <% end %>
      <% end %>
    <% else %>
      <%= ability %>
    <% end %>
  <% end %>
<% end %>

<% if descriptor['Inability'] %>
  <%= left("%xhInability:%xn #{chartype['Inability']}", 20) %>
<% end %>

<% if descriptor['Initial Link to the Starting Adventure'] -%>
  <%= left("%xhInitial Links:%xn", 20) -%>
  <% descriptor['Initial Link to the Starting Adventure'].each do |link| %>
    <%= left("#{link}", 100) %>
  <% end %>
<% end %>

<%= footer %>